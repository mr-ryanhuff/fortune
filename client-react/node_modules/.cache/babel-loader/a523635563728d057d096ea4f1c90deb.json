{"ast":null,"code":"var _jsxFileName = \"/Users/akashlankala/Documents/CS 307/fortune-sprint_2_review/client-react/src/landing/coininfo/CoinInfo.tsx\";\nimport * as React from 'react';\nimport { Table } from 'react-bootstrap';\nimport Actions from '../../redux/actions';\nimport { connect } from 'react-redux';\nimport CoinGraph from './coingraph/CoinGraph';\n\nclass CoinInfo extends React.Component {\n  componentDidMount() {\n    this.props.getAllCoins();\n    this.props.get24hrTickers();\n  }\n\n  showPrice(id) {\n    const {\n      currentPrices\n    } = this.props;\n\n    if (currentPrices) {\n      for (let i = 0; i < currentPrices.length; i++) {\n        if (currentPrices[i].coin.id === id) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 30\n            },\n            __self: this\n          }, \" $\", Number(currentPrices[i].price).toFixed(2));\n        }\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, \"Retrieving...\");\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, \"Error displaying price\");\n    }\n  }\n\n  showChange(id) {\n    const {\n      currentPrices\n    } = this.props;\n\n    if (currentPrices) {\n      for (let i = 0; i < currentPrices.length; i++) {\n        if (currentPrices[i].coin.id === id) {\n          var style = {\n            color: 'green'\n          };\n          var change = Number(currentPrices[i].price_change_day_pct) * 100;\n\n          if (change < 0) {\n            style = {\n              color: 'red'\n            };\n          }\n\n          return React.createElement(\"div\", {\n            style: style,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }, Number(change).toFixed(2), \"%\");\n        }\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Retrieving...\");\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Error displaying price changes\");\n    }\n  }\n\n  getChange(id) {\n    const {\n      currentPrices\n    } = this.props;\n\n    if (currentPrices) {\n      for (let i = 0; i < currentPrices.length; i++) {\n        if (currentPrices[i].coin.id === id) {\n          return currentPrices[i].price_change_day_pct;\n        }\n      }\n    }\n\n    return 0;\n  }\n\n  getPrice(id) {\n    const {\n      currentPrices\n    } = this.props;\n\n    if (currentPrices.length > 0) {\n      for (let i = 0; i < currentPrices.length; i++) {\n        if (Number(currentPrices[i].coin.id) === id) {\n          return currentPrices[i].price;\n        }\n      }\n    }\n\n    return 0;\n  }\n\n  parseTickers(id) {\n    let oneCoinTickers = [];\n    this.props.oneDayTickers.forEach(ticker => {\n      if (Number(ticker.coin.id) === id) {\n        oneCoinTickers.push(ticker);\n      }\n    });\n    return oneCoinTickers;\n  }\n\n  compareCoinPrices(coin1, coin2) {\n    return this.getPrice(coin2.id) - this.getPrice(coin1.id);\n  }\n\n  dynamicRowRender() {\n    let rows = [];\n    let sortedCoins = this.props.allCoins;\n    sortedCoins.sort(this.compareCoinPrices.bind(this));\n    rows = sortedCoins.map(coin => React.createElement(\"tr\", {\n      key: coin.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, coin.name, \" (\", coin.symbol, \")\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, this.showPrice(coin.id)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(CoinGraph, {\n      id: coin.id,\n      change: this.getChange(coin.id),\n      oneDayTickers: this.parseTickers(coin.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, this.showChange(coin.id))));\n    rows = rows.slice(0, 10); //only show first 10 coins - in reality need to filter through rows for certain coins\n\n    return rows;\n  }\n\n  render() {\n    return React.createElement(Table, {\n      responsive: true,\n      size: \"sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Coin\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"History\")), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"24hr % Change\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, this.dynamicRowRender()));\n  } //render()\n\n\n} //class CoinInfo\n\n\nconst mapStateToProps = state => ({\n  allCoins: state.coins.coins,\n  currentPrices: state.coins.currentPrices,\n  oneDayTickers: state.coins.oneDayTickers\n});\n\nconst mapDispatchToProps = {\n  getAllCoins: Actions.coins.getAllCoins,\n  get24hrTickers: Actions.coins.get24hrTickers\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(CoinInfo);","map":{"version":3,"sources":["/Users/akashlankala/Documents/CS 307/fortune-sprint_2_review/client-react/src/landing/coininfo/CoinInfo.tsx"],"names":["React","Table","Actions","connect","CoinGraph","CoinInfo","Component","componentDidMount","props","getAllCoins","get24hrTickers","showPrice","id","currentPrices","i","length","coin","Number","price","toFixed","showChange","style","color","change","price_change_day_pct","getChange","getPrice","parseTickers","oneCoinTickers","oneDayTickers","forEach","ticker","push","compareCoinPrices","coin1","coin2","dynamicRowRender","rows","sortedCoins","allCoins","sort","bind","map","name","symbol","slice","render","mapStateToProps","state","coins","mapDispatchToProps"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Table } from 'react-bootstrap';\nimport Actions from '../../redux/actions';\nimport { RootState } from '../../redux/reducers';\nimport { currentPricesType } from '../../redux/reducers/CoinReducer';\nimport { connect } from 'react-redux';\n\nimport CoinGraph from './coingraph/CoinGraph'\n\ninterface CoinInfoProps {\n  allCoins: Array<{ id: string, name: string, symbol:string}>;\n  getAllCoins: () => {};\n  currentPrices: currentPricesType;\n  oneDayTickers: Array<{tickers: currentPricesType}>;\n  get24hrTickers: () => {};\n}\n\nclass CoinInfo extends React.Component<CoinInfoProps> {\n\n  componentDidMount() {\n      this.props.getAllCoins();\n      this.props.get24hrTickers();\n  }\n\n  private showPrice(id:number) {\n    const { currentPrices } = this.props;\n    if(currentPrices) {\n      for (let i = 0; i < currentPrices.length; i++) {\n        if(currentPrices[i].coin.id === id) {\n          return <div> ${Number(currentPrices[i].price).toFixed(2)}</div>\n        }\n      }\n      return <div>Retrieving...</div>\n    } else {\n      return <div>Error displaying price</div>\n    }\n  }\n  private showChange(id:number) {\n    const { currentPrices } = this.props;\n    if(currentPrices) {\n      for (let i = 0; i < currentPrices.length; i++) {\n        if(currentPrices[i].coin.id === id){\n          var style = {color:'green'}\n          var change = Number(currentPrices[i].price_change_day_pct) * 100\n          if (change < 0) { style = {color:'red'} }\n          return <div style={style}>{Number(change).toFixed(2)}%</div>\n        }\n      }\n      return <div>Retrieving...</div>\n    } else {\n      return <div>Error displaying price changes</div>\n    }\n  }\n  private getChange(id:Number) {\n    const { currentPrices } = this.props;\n    if(currentPrices) {\n      for (let i = 0; i < currentPrices.length; i++) {\n        if(currentPrices[i].coin.id === id){\n          return currentPrices[i].price_change_day_pct\n        }\n      }\n    }\n    return 0\n  }\n\n  private getPrice(id:Number) {\n    const { currentPrices } = this.props;\n    if(currentPrices.length > 0) {\n      for (let i = 0; i < currentPrices.length; i++) {\n        if(Number(currentPrices[i].coin.id) === id){\n          return currentPrices[i].price\n        }\n      }\n    }\n    return 0\n  }\n\n  private parseTickers(id:Number) {\n    let oneCoinTickers: Array<{tickers: currentPricesType}> = [];\n    this.props.oneDayTickers.forEach(ticker => {\n      if(Number(ticker.coin.id) === id){\n        oneCoinTickers.push(ticker)\n      }\n    });\n\n    return oneCoinTickers;\n  }\n\n\n  private compareCoinPrices(coin1, coin2) {\n    return this.getPrice(coin2.id) - this.getPrice(coin1.id);\n  }\n\nprivate dynamicRowRender() {\n  let rows = [];\n  let sortedCoins = this.props.allCoins\n  sortedCoins.sort(this.compareCoinPrices.bind(this))\n  rows = sortedCoins.map(coin => <tr key={coin.id}>\n                                         <td>{coin.name} ({coin.symbol})</td>\n                                         <td>{this.showPrice(coin.id)}</td>\n                                         <td><div align=\"center\"><CoinGraph id={coin.id}\n                                                                            change={this.getChange(coin.id)}\n                                                                            oneDayTickers={this.parseTickers(coin.id)}/>\n                                                                            </div></td>\n                                         <td>{this.showChange(coin.id)}</td>\n                                         </tr> );\n  rows = rows.slice(0,10) //only show first 10 coins - in reality need to filter through rows for certain coins\n  return rows\n}\n\n    render() {\n        return (\n            <Table responsive size=\"sm\">\n              <thead>\n                <tr>\n                  <th>Coin</th>\n                  <th>Price</th>\n                  <th><div align=\"center\">History</div></th>\n                  <th>24hr % Change</th>\n                </tr>\n              </thead>\n\n              <tbody>\n              {this.dynamicRowRender()}\n              </tbody>\n            </Table>\n        )\n    }//render()\n}//class CoinInfo\n\nconst mapStateToProps = (state: RootState) => ({\n    allCoins: state.coins.coins,\n    currentPrices: state.coins.currentPrices,\n    oneDayTickers: state.coins.oneDayTickers,\n\n});\nconst mapDispatchToProps = {\n    getAllCoins: Actions.coins.getAllCoins,\n    get24hrTickers: Actions.coins.get24hrTickers,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(CoinInfo);\n"]},"metadata":{},"sourceType":"module"}