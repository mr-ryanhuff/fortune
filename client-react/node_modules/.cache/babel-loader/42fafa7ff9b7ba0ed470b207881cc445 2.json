{"ast":null,"code":"import { push } from 'connected-react-router';\nexport const handleAxiosError = (error, dispatch, type) => {\n  if (!error.response) {\n    dispatch({\n      type,\n      payload: 'Cannot connect to the server'\n    });\n    return;\n  }\n\n  if (error.response.status === 401) {\n    dispatch({\n      type,\n      payload: error.response.data.error\n    }); // this token is invalid, remove it from localStorage\n    // and redirect to the login page\n\n    dispatch(push('/login'));\n    return;\n  }\n\n  dispatch({\n    type,\n    payload: error.response.data.error\n  });\n};","map":{"version":3,"sources":["/Users/akashlankala/Documents/CS 307/fortune-sprint_2_review/client-react/src/redux/actions/Utils.ts"],"names":["push","handleAxiosError","error","dispatch","type","response","payload","status","data"],"mappings":"AAAA,SAAQA,IAAR,QAAmB,wBAAnB;AAcA,OAAO,MAAMC,gBAAgB,GAAG,CAACC,KAAD,EAAkBC,QAAlB,EAAsCC,IAAtC,KAAqD;AACnF,MAAI,CAACF,KAAK,CAACG,QAAX,EAAqB;AACnBF,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAD;AAAOE,MAAAA,OAAO,EAAE;AAAhB,KAAD,CAAR;AACA;AACD;;AACD,MAAIJ,KAAK,CAACG,QAAN,CAAeE,MAAf,KAA0B,GAA9B,EAAmC;AACjCJ,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAD;AAAOE,MAAAA,OAAO,EAAEJ,KAAK,CAACG,QAAN,CAAeG,IAAf,CAAoBN;AAApC,KAAD,CAAR,CADiC,CAEjC;AACA;;AACAC,IAAAA,QAAQ,CAACH,IAAI,CAAC,QAAD,CAAL,CAAR;AACA;AACD;;AACDG,EAAAA,QAAQ,CAAC;AAACC,IAAAA,IAAD;AAAOE,IAAAA,OAAO,EAAEJ,KAAK,CAACG,QAAN,CAAeG,IAAf,CAAoBN;AAApC,GAAD,CAAR;AACD,CAbM","sourcesContent":["import {push} from 'connected-react-router'\nimport {Type} from './Types'\n\n\ntype ApiError = {\n  response?: {\n    status: number,\n    data: {\n      error: string,\n    }\n  },\n}\n\n\nexport const handleAxiosError = (error: ApiError, dispatch: Function, type: Type) => {\n  if (!error.response) {\n    dispatch({type, payload: 'Cannot connect to the server'})\n    return\n  }\n  if (error.response.status === 401) {\n    dispatch({type, payload: error.response.data.error})\n    // this token is invalid, remove it from localStorage\n    // and redirect to the login page\n    dispatch(push('/login'))\n    return\n  }\n  dispatch({type, payload: error.response.data.error})\n}"]},"metadata":{},"sourceType":"module"}