{"ast":null,"code":"var _jsxFileName = \"/Users/akashlankala/Documents/CS 307/fortune-sprint_2_review/client-react/src/menubar/MenuBar.tsx\";\nimport * as React from 'react';\nimport io from 'socket.io-client';\nimport logo from \"../logo.svg\";\nimport { Nav, Navbar, NavDropdown } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport Actions from '../redux/actions';\nimport { Redirect } from 'react-router-dom';\n\nclass MenuBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.navigateTo = navigateTo => () => {\n      this.setState({\n        navigateTo\n      });\n    };\n\n    this.logout = () => {\n      this.props.logout();\n      this.navigateTo('/')();\n    };\n\n    this.setCurrentPrices = payload => {\n      this.props.setCurrentPrices(payload);\n    };\n\n    this.renderLoginOrUsername = () => {\n      if (this.props.loggedIn) {\n        return React.createElement(NavDropdown, {\n          title: \"Username\",\n          id: \"basic-nav-dropdown\",\n          alignRight: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(NavDropdown.Item, {\n          onClick: this.navigateTo('/play'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, \"Games\"), React.createElement(NavDropdown.Divider, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }), React.createElement(NavDropdown.Item, {\n          onClick: this.logout,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"Logout\"));\n      } else {\n        return React.createElement(Nav.Link, {\n          onClick: this.navigateTo('/login'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, \"Sign In\");\n      }\n    };\n\n    this.state = {\n      navigateTo: undefined\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchAuthToken();\n    const socket = io('http://localhost:5000').connect();\n    socket.on('message', data => {\n      console.log('event received:', data);\n      this.setCurrentPrices(data);\n    });\n  }\n\n  render() {\n    if (this.state.navigateTo) {\n      this.setState({\n        navigateTo: undefined\n      });\n      return React.createElement(Redirect, {\n        to: this.state.navigateTo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(Navbar, {\n      collapseOnSelect: true,\n      expand: \"md\",\n      bg: \"dark\",\n      variant: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(Navbar.Brand, {\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"\",\n      src: logo,\n      width: \"30\",\n      height: \"30\",\n      className: \"d-inline-block align-top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), ' ', \"Fortune\"), React.createElement(Navbar.Toggle, {\n      \"aria-controls\": \"basic-navbar-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(Navbar.Collapse, {\n      id: \"basic-navbar-nav\",\n      className: \"justify-content-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      onClick: this.navigateTo('/play'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Play\"), this.renderLoginOrUsername())));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  loggedIn: state.auth.loggedIn\n});\n\nconst mapDispatchToProps = {\n  logout: Actions.auth.logout,\n  fetchAuthToken: Actions.auth.fetchAuthToken,\n  setCurrentPrices: Actions.coins.setCurrentPrices\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuBar);","map":{"version":3,"sources":["/Users/akashlankala/Documents/CS 307/fortune-sprint_2_review/client-react/src/menubar/MenuBar.tsx"],"names":["React","io","Nav","Navbar","NavDropdown","connect","Actions","Redirect","MenuBar","Component","constructor","props","navigateTo","setState","logout","setCurrentPrices","payload","renderLoginOrUsername","loggedIn","state","undefined","componentDidMount","fetchAuthToken","socket","on","data","console","log","render","logo","mapStateToProps","auth","mapDispatchToProps","coins"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,EAAP,MAAe,kBAAf;;AAEA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,WAAtB,QAAyC,iBAAzC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAEA,SAASC,QAAT,QAAyB,kBAAzB;;AAcA,MAAMC,OAAN,SAAsBR,KAAK,CAACS,SAA5B,CAAkE;AAC9DC,EAAAA,WAAW,CAACC,KAAD,EAAsB;AAC7B,UAAMA,KAAN;;AAD6B,SAgBzBC,UAhByB,GAgBXA,UAAD,IAAwB,MAAM;AAC/C,WAAKC,QAAL,CAAc;AAAED,QAAAA;AAAF,OAAd;AACH,KAlBgC;;AAAA,SAoBzBE,MApByB,GAoBhB,MAAM;AACnB,WAAKH,KAAL,CAAWG,MAAX;AACA,WAAKF,UAAL,CAAgB,GAAhB;AACH,KAvBgC;;AAAA,SAyBzBG,gBAzByB,GAyBLC,OAAD,IAAgC;AACvD,WAAKL,KAAL,CAAWI,gBAAX,CAA4BC,OAA5B;AACH,KA3BgC;;AAAA,SA0DzBC,qBA1DyB,GA0DD,MAAM;AAClC,UAAI,KAAKN,KAAL,CAAWO,QAAf,EAAyB;AACrB,eACI,oBAAC,WAAD;AAAa,UAAA,KAAK,EAAC,UAAnB;AAA8B,UAAA,EAAE,EAAC,oBAAjC;AAAsD,UAAA,UAAU,MAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,WAAD,CAAa,IAAb;AAAkB,UAAA,OAAO,EAAE,KAAKN,UAAL,CAAgB,OAAhB,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI,oBAAC,WAAD,CAAa,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,EAGI,oBAAC,WAAD,CAAa,IAAb;AAAkB,UAAA,OAAO,EAAE,KAAKE,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,CADJ;AAOH,OARD,MAQO;AACH,eACI,oBAAC,GAAD,CAAK,IAAL;AAAU,UAAA,OAAO,EAAE,KAAKF,UAAL,CAAgB,QAAhB,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ;AAGH;AACJ,KAxEgC;;AAE7B,SAAKO,KAAL,GAAa;AACTP,MAAAA,UAAU,EAAEQ;AADH,KAAb;AAGH;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKV,KAAL,CAAWW,cAAX;AACA,UAAMC,MAAM,GAAGtB,EAAE,CAAC,uBAAD,CAAF,CAA4BI,OAA5B,EAAf;AACAkB,IAAAA,MAAM,CAACC,EAAP,CAAU,SAAV,EAAsBC,IAAD,IAAe;AAClCC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,IAA/B;AACA,WAAKV,gBAAL,CAAsBU,IAAtB;AACD,KAHD;AAID;;AAeDG,EAAAA,MAAM,GAAG;AACL,QAAI,KAAKT,KAAL,CAAWP,UAAf,EAA2B;AACvB,WAAKC,QAAL,CAAc;AAAED,QAAAA,UAAU,EAAEQ;AAAd,OAAd;AACA,aAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAE,KAAKD,KAAL,CAAWP,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;;AAED,WACI,oBAAC,MAAD;AAAQ,MAAA,gBAAgB,MAAxB;AAAyB,MAAA,MAAM,EAAC,IAAhC;AAAqC,MAAA,EAAE,EAAC,MAAxC;AAA+C,MAAA,OAAO,EAAC,MAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD,CAAQ,KAAR;AAAc,MAAA,IAAI,EAAC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AACI,MAAA,GAAG,EAAC,EADR;AAEI,MAAA,GAAG,EAAEiB,IAFT;AAGI,MAAA,KAAK,EAAC,IAHV;AAII,MAAA,MAAM,EAAC,IAJX;AAKI,MAAA,SAAS,EAAC,0BALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAOG,GAPH,YADJ,EAWI,oBAAC,MAAD,CAAQ,MAAR;AAAe,uBAAc,kBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXJ,EAYI,oBAAC,MAAD,CAAQ,QAAR;AAAiB,MAAA,EAAE,EAAC,kBAApB;AAAuC,MAAA,SAAS,EAAC,qBAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,GAAD,CAAK,IAAL;AAAU,MAAA,OAAO,EAAE,KAAKjB,UAAL,CAAgB,OAAhB,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEK,KAAKK,qBAAL,EAFL,CADJ,CAZJ,CADJ;AAqBH;;AAzD6D;;AA4ElE,MAAMa,eAAe,GAAIX,KAAD,KAAuB;AAC7CD,EAAAA,QAAQ,EAAEC,KAAK,CAACY,IAAN,CAAWb;AADwB,CAAvB,CAAxB;;AAGA,MAAMc,kBAAkB,GAAG;AACzBlB,EAAAA,MAAM,EAAER,OAAO,CAACyB,IAAR,CAAajB,MADI;AAEzBQ,EAAAA,cAAc,EAAEhB,OAAO,CAACyB,IAAR,CAAaT,cAFJ;AAGzBP,EAAAA,gBAAgB,EAAET,OAAO,CAAC2B,KAAR,CAAclB;AAHP,CAA3B;AAKA,eAAeV,OAAO,CAACyB,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CxB,OAA7C,CAAf","sourcesContent":["import * as React from 'react';\nimport io from 'socket.io-client'\nimport logo from '../logo.svg';\nimport { Nav, Navbar, NavDropdown } from 'react-bootstrap';\nimport {connect} from 'react-redux'\nimport Actions from '../redux/actions'\nimport { RootState } from '../redux/reducers';\nimport { Redirect } from 'react-router-dom';\nimport { currentPricesType } from '../redux/reducers/CoinReducer'\n\ninterface MenuBarProps {\n    loggedIn: boolean;\n    logout: () => void;\n    fetchAuthToken: () => void;\n    setCurrentPrices: (payload: currentPricesType) => void;\n}\n\ninterface MenuBarState {\n    navigateTo?: string;\n}\n\nclass MenuBar extends React.Component<MenuBarProps, MenuBarState> {\n    constructor(props: MenuBarProps) {\n        super(props);\n        this.state = {\n            navigateTo: undefined\n        }\n    }\n\n    componentDidMount() {\n      this.props.fetchAuthToken()\n      const socket = io('http://localhost:5000').connect();\n      socket.on('message', (data: any) => {\n        console.log('event received:', data);\n        this.setCurrentPrices(data);\n      });\n    }\n\n    private navigateTo = (navigateTo: string) => () => {\n        this.setState({ navigateTo })\n    }\n\n    private logout = () => {\n        this.props.logout();\n        this.navigateTo('/')();\n    }\n\n    private setCurrentPrices = (payload: currentPricesType) => {\n        this.props.setCurrentPrices(payload);\n    }\n\n    render() {\n        if (this.state.navigateTo) {\n            this.setState({ navigateTo: undefined })\n            return <Redirect to={this.state.navigateTo} />\n        }\n        \n        return (\n            <Navbar collapseOnSelect expand=\"md\" bg=\"dark\" variant=\"dark\">\n                <Navbar.Brand href=\"/\">\n                <img\n                    alt=\"\"\n                    src={logo}\n                    width=\"30\"\n                    height=\"30\"\n                    className=\"d-inline-block align-top\"\n                />{' '}\n                Fortune\n                </Navbar.Brand>\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                <Navbar.Collapse id=\"basic-navbar-nav\" className=\"justify-content-end\">\n                    <Nav>\n                        <Nav.Link onClick={this.navigateTo('/play')}>Play</Nav.Link>\n                        {this.renderLoginOrUsername()}\n                    </Nav>\n                </Navbar.Collapse>\n            </Navbar>\n        )\n    }\n\n    private renderLoginOrUsername = () => {\n        if (this.props.loggedIn) {\n            return (\n                <NavDropdown title=\"Username\" id=\"basic-nav-dropdown\" alignRight>\n                    <NavDropdown.Item onClick={this.navigateTo('/play')} >Games</NavDropdown.Item>\n                    <NavDropdown.Divider />\n                    <NavDropdown.Item onClick={this.logout}>Logout</NavDropdown.Item>\n                </NavDropdown>\n            )\n        } else {\n            return (\n                <Nav.Link onClick={this.navigateTo('/login')}>Sign In</Nav.Link>\n            )\n        }\n    }\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  loggedIn: state.auth.loggedIn,\n})\nconst mapDispatchToProps = {\n  logout: Actions.auth.logout,\n  fetchAuthToken: Actions.auth.fetchAuthToken,\n  setCurrentPrices: Actions.coins.setCurrentPrices,\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuBar)\n"]},"metadata":{},"sourceType":"module"}