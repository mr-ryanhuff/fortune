{"ast":null,"code":"var _jsxFileName = \"/Users/akashlankala/Documents/CS 307/fortune-sprint_2_review/client-react/src/pagination/Pagination.tsx\";\nimport * as React from 'react';\nimport { Pagination as ReactPagination } from 'react-bootstrap';\nexport default class Pagination extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handlePageClick = this.handlePageClick.bind(this);\n  }\n\n  handlePageClick(event) {\n    if (!event.currentTarget.text) {\n      // Active page number was clicked\n      return;\n    }\n\n    let newPageNumber = Number(event.currentTarget.text);\n    this.setPageNumber(newPageNumber);\n  }\n\n  setPageNumber(newPageNumber) {\n    // this.setState({currentPage: newPageNumber});\n    this.props.handlePageChange(newPageNumber);\n  }\n\n  getPager() {\n    // Based on the implementation here\n    // https://jasonwatmore.com/post/2017/03/14/react-pagination-example-with-logic-like-google\n    let currentPage = this.props.currentPage;\n    let pageSize = this.props.pageSize;\n    let totalItems = this.props.totalItems; // default to first page\n\n    currentPage = currentPage || 1; // default page size is 10\n\n    pageSize = pageSize || 10; // calculate total pages\n\n    let totalPages = Math.ceil(totalItems / pageSize);\n    let startPage;\n    let endPage;\n\n    if (totalPages <= 10) {\n      // less than 10 total pages so show all\n      startPage = 1;\n      endPage = totalPages;\n    } else {\n      // more than 10 total pages so calculate start and end pages\n      if (currentPage <= 6) {\n        startPage = 1;\n        endPage = 10;\n      } else if (currentPage + 4 >= totalPages) {\n        startPage = totalPages - 9;\n        endPage = totalPages;\n      } else {\n        startPage = currentPage - 5;\n        endPage = currentPage + 4;\n      }\n    } // calculate start and end item indexes\n\n\n    let startIndex = (currentPage - 1) * pageSize;\n    let endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1); // create an array of pages to ng-repeat in the pager control\n\n    let pages = [];\n\n    for (let i = 0; i < endPage + 1 - startPage; i++) {\n      pages.push(startPage + i);\n    } // return object with all pager properties required by the view\n\n\n    return {\n      totalItems: totalItems,\n      currentPage: currentPage,\n      pageSize: pageSize,\n      totalPages: totalPages,\n      startPage: startPage,\n      endPage: endPage,\n      startIndex: startIndex,\n      endIndex: endIndex,\n      pages: pages\n    };\n  }\n\n  paginationItems() {\n    let paginationItems = [];\n    let pager = this.getPager();\n\n    if (pager.totalItems === 0) {\n      return;\n    }\n\n    paginationItems.push(React.createElement(ReactPagination.First, {\n      onClick: () => {\n        this.setPageNumber(1);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }));\n    paginationItems.push(React.createElement(ReactPagination.Prev, {\n      onClick: () => {\n        this.setPageNumber(Math.max(1, pager.currentPage - 1));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }));\n\n    for (let i = 0; i < pager.pages.length; i++) {\n      let pageNum = pager.pages[i];\n      paginationItems.push(React.createElement(ReactPagination.Item, {\n        active: pager.currentPage === pageNum,\n        onClick: this.handlePageClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, pageNum));\n    }\n\n    paginationItems.push(React.createElement(ReactPagination.Next, {\n      onClick: () => {\n        this.setPageNumber(Math.min(pager.totalPages, pager.currentPage + 1));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }));\n    paginationItems.push(React.createElement(ReactPagination.Last, {\n      onClick: () => {\n        this.setPageNumber(pager.totalPages);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }));\n    return paginationItems;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(ReactPagination, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, this.paginationItems()));\n  }\n\n}","map":{"version":3,"sources":["/Users/akashlankala/Documents/CS 307/fortune-sprint_2_review/client-react/src/pagination/Pagination.tsx"],"names":["React","Pagination","ReactPagination","Component","constructor","props","handlePageClick","bind","event","currentTarget","text","newPageNumber","Number","setPageNumber","handlePageChange","getPager","currentPage","pageSize","totalItems","totalPages","Math","ceil","startPage","endPage","startIndex","endIndex","min","pages","i","push","paginationItems","pager","max","length","pageNum","render"],"mappings":"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","sourcesContent":["import * as React from 'react'\r\nimport {Pagination as ReactPagination} from 'react-bootstrap'\r\n\r\ninterface PaginationProps {\r\n    currentPage: number,\r\n    pageSize: number,\r\n    totalItems: number,\r\n    handlePageChange: (pageNumber: number) => void,   // This method is expected to re-render this component\r\n}\r\n\r\nexport default class Pagination extends React.Component <PaginationProps> {\r\n    constructor(props: PaginationProps) {\r\n        super(props);\r\n        this.handlePageClick = this.handlePageClick.bind(this)\r\n    }\r\n\r\n    handlePageClick(event: any) {\r\n        if (!event.currentTarget.text) {    // Active page number was clicked\r\n            return;\r\n        }\r\n        let newPageNumber = Number(event.currentTarget.text);\r\n        this.setPageNumber(newPageNumber)\r\n    }\r\n\r\n    setPageNumber(newPageNumber: number) {\r\n        // this.setState({currentPage: newPageNumber});\r\n        this.props.handlePageChange(newPageNumber);\r\n    }\r\n\r\n    getPager() {\r\n        // Based on the implementation here\r\n        // https://jasonwatmore.com/post/2017/03/14/react-pagination-example-with-logic-like-google\r\n        let currentPage = this.props.currentPage;\r\n        let pageSize = this.props.pageSize;\r\n        let totalItems = this.props.totalItems;\r\n\r\n        // default to first page\r\n        currentPage = currentPage || 1;\r\n\r\n        // default page size is 10\r\n        pageSize = pageSize || 10;\r\n\r\n        // calculate total pages\r\n        let totalPages = Math.ceil(totalItems / pageSize);\r\n\r\n        let startPage: number;\r\n        let endPage: number;\r\n        if (totalPages <= 10) {\r\n            // less than 10 total pages so show all\r\n            startPage = 1;\r\n            endPage = totalPages;\r\n        } else {\r\n            // more than 10 total pages so calculate start and end pages\r\n            if (currentPage <= 6) {\r\n                startPage = 1;\r\n                endPage = 10;\r\n            } else if (currentPage + 4 >= totalPages) {\r\n                startPage = totalPages - 9;\r\n                endPage = totalPages;\r\n            } else {\r\n                startPage = currentPage - 5;\r\n                endPage = currentPage + 4;\r\n            }\r\n        }\r\n\r\n        // calculate start and end item indexes\r\n        let startIndex = (currentPage - 1) * pageSize;\r\n        let endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\r\n\r\n        // create an array of pages to ng-repeat in the pager control\r\n        let pages: number[] = [];\r\n        for (let i = 0; i < (endPage + 1) - startPage; i++) {\r\n            pages.push(startPage + i)\r\n        }\r\n\r\n        // return object with all pager properties required by the view\r\n        return {\r\n            totalItems: totalItems,\r\n            currentPage: currentPage,\r\n            pageSize: pageSize,\r\n            totalPages: totalPages,\r\n            startPage: startPage,\r\n            endPage: endPage,\r\n            startIndex: startIndex,\r\n            endIndex: endIndex,\r\n            pages: pages,\r\n        };\r\n    }\r\n\r\n    paginationItems() {\r\n        let paginationItems = [];\r\n        let pager = this.getPager();\r\n\r\n        if (pager.totalItems === 0) {\r\n            return;\r\n        }\r\n\r\n        paginationItems.push(\r\n            <ReactPagination.First\r\n                onClick={() => {this.setPageNumber(1)}}\r\n            />\r\n        );\r\n        paginationItems.push(\r\n            <ReactPagination.Prev\r\n                onClick={() => {this.setPageNumber(Math.max(1, pager.currentPage - 1))}}\r\n            />\r\n        );\r\n\r\n        for (let i = 0; i < pager.pages.length; i++) {\r\n            let pageNum = pager.pages[i];\r\n            paginationItems.push((\r\n                <ReactPagination.Item\r\n                    active={pager.currentPage === pageNum}\r\n                    onClick={this.handlePageClick}\r\n                >{pageNum}\r\n                </ReactPagination.Item>\r\n            ));\r\n        }\r\n\r\n        paginationItems.push(\r\n            <ReactPagination.Next\r\n                onClick={() => {this.setPageNumber(Math.min(pager.totalPages, pager.currentPage + 1))}}\r\n            />\r\n        );\r\n        paginationItems.push(\r\n            <ReactPagination.Last\r\n                onClick={() => {this.setPageNumber(pager.totalPages)}}\r\n            />\r\n        );\r\n        return paginationItems;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <ReactPagination>\r\n                    {this.paginationItems()}\r\n                </ReactPagination>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}